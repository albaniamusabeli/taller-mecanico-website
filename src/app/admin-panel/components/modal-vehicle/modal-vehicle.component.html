<h4 class="text-center mt-3">{{tituloModal}}
  <div class="float-end cerrar">
    <button (click)="cerrarModal()">
      <mat-icon color="accent">close</mat-icon>
    </button>
  </div>
</h4>

<div class="container mt-5">
    <form [formGroup]="formularioVehiculo" (ngSubmit)="agregarEditarVehiculo()">
        <!-- ROW 1 -->
        <div class="row mx-5 mb-3">
            <div class="col">
                <mat-form-field appearance="fill">
                    <input type="text" matInput [matAutocomplete]="auto" placeholder="Marca del vehículo" [formControl] = "control">
                    <mat-autocomplete (optionSelected)="onMarcaSelected($event.option)" #auto="matAutocomplete"
                        [displayWith]="displayFn">
                        <mat-option *ngFor="let marca of opcionesFiltradas | async" [value]="marca">
                            {{marca}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
            </div>
            <div class="col">
                <mat-form-field appearance="fill">
                    <input name="id" type="text" matInput [matAutocomplete]="autoModelo" 
                        placeholder="Modelo del vehículo">
                    <mat-autocomplete (optionSelected)="onModeloSelected($event.option)" #autoModelo="matAutocomplete"
                        [displayWith]="displayFnModelo">
                        <mat-option *ngFor="let modelo of listaModelos" [value]="modelo">
                            {{modelo.nombre}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
            </div>
        </div>

        <!-- ROW 2 -->
        <div class="row mx-5 mb-3 text-center">
            <div class="col-6">
                <div class=" input-group input-group-lg mb-3">
                    <span class="input-group-text" id="basic-addon1">
                        <i class="fa-solid fa-car-side"></i>
                    </span>
                    <input type="text" class="form-control" placeholder="Patente" formControlName="patente">
                </div>
            </div>
            <div class="col-6">
                <div class=" input-group input-group-lg mb-3">
                    <span class="input-group-text" id="basic-addon1">
                        <i class="fa-solid fa-calendar-days"></i>
                    </span>
                    <input type="text" class="form-control" placeholder="Año del vehiculo" formControlName="annio">
                </div>
            </div>
        </div>

        <!-- ROW 3 -->
        <div class="row mx-5 mb-3 text-center">
            <div class="col-12">
                <mat-form-field appearance="fill">
                    <input type="text" matInput [matAutocomplete]="cliente" placeholder="Cliente">
                    <mat-autocomplete (optionSelected)="onClienteSelected($event.option)" #cliente="matAutocomplete"
                        [displayWith]="displayFnCliente">
                        <mat-option *ngFor="let cliente of listaClientes" [value]="cliente">
                            {{cliente.p_nombre}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
            </div>
            <!-- <div class="col-6">

            </div> -->
        </div>

        <!-- ROW BUTTON -->
        <div class="row mx-5 mb-3 text-center">
            <div class="col-12">
                <button mat-raised-button color="primary" type="submit" [disabled]="formularioVehiculo.invalid">
                    {{boton}}
                </button>
            </div>
        </div>


    </form>
</div>
